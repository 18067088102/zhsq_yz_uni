{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Lenovo/Desktop/zhsq_yz_uni/pages/communityRegister/validation1.vue?5489","webpack:///C:/Users/Lenovo/Desktop/zhsq_yz_uni/pages/communityRegister/validation1.vue?3bf7","webpack:///C:/Users/Lenovo/Desktop/zhsq_yz_uni/pages/communityRegister/validation1.vue?fd4a","webpack:///C:/Users/Lenovo/Desktop/zhsq_yz_uni/pages/communityRegister/validation1.vue?abc8","uni-app:///pages/communityRegister/validation1.vue","webpack:///C:/Users/Lenovo/Desktop/zhsq_yz_uni/pages/communityRegister/validation1.vue?a839","webpack:///C:/Users/Lenovo/Desktop/zhsq_yz_uni/pages/communityRegister/validation1.vue?5200"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,oH;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,wOAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAqmB,CAAgB,+nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8FznB;AACA;AACA,kCADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,sBADA;AAEA,sBAFA;AAGA,sBAHA;AAIA,iBAJA;AAKA,kBALA;AAMA,mBANA;AAOA,kBAPA;AAQA,mBARA;AASA,aATA;AAUA,eAVA;AAWA,iBAXA;AAYA,yBAZA;AAaA,eAbA;AAcA,iCAdA;AAeA,kBAfA;AAgBA,iBAhBA;AAiBA,yBAjBA;AAkBA,eAlBA;AAmBA,iBAnBA;AAoBA,qBApBA;AAqBA,qBArBA;AAsBA,mBAtBA;AAuBA,sBAvBA;AAwBA,oBAxBA;AAyBA,kBAzBA;AA0BA,gBA1BA;AA2BA,wBA3BA;AA4BA,4BA5BA;AA6BA,eA7BA,EA6BA;AACA,sBA9BA;;AAgCA,GArCA;AAsCA;;;AAGA;AACA;AACA;AACA,qBADA;AAEA;AACA,YADA,EACA,QADA,GACA,GAHA;AAIA;AACA,qBADA;;AAGA,KARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA7DA;AA8DA;AACA,4BADA,oCACA,IADA,EACA;AACA,oBADA,GACA,KADA;AAEA;AACA,iCADA;AAEA,4BAFA;AAGA,sDAHA;AAIA,sBAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAHA,MAGA;AACA;AACA;AACA,uBAHA,MAGA;AACA;AACA;AACA;AACA;AACA,mBAvBA,EAuBA,KAvBA,CAuBA,iBAvBA,CAFA;AA0BA,KA3BA;;AA6BA,kBA7BA,0BA6BA,CA7BA,EA6BA;AACA;AACA,KA/BA;;AAiCA,cAjCA,sBAiCA,CAjCA,EAiCA;AACA;AACA,KAnCA;;AAqCA,kBArCA,0BAqCA,CArCA,EAqCA;AACA;AACA,KAvCA;;AAyCA,cAzCA,sBAyCA,CAzCA,EAyCA;AACA;AACA,KA3CA;;AA6CA,iBA7CA,yBA6CA,KA7CA,EA6CA;AACA;AACA;AACA;AACA;AACA;AACA,KAnDA;;AAqDA,cArDA,sBAqDA,KArDA,EAqDA;AACA;AACA;AACA;AACA;AACA;AACA,KA3DA;;AA6DA,aA7DA,qBA6DA,KA7DA,EA6DA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,sBAFA;;AAIA,OANA,MAMA;AACA;AACA,qEADA;AAEA,gCAFA;AAGA;AACA,KA3EA;;AA6EA,iBA7EA,yBA6EA,KA7EA,EA6EA;AACA;AACA;AACA;AACA;AACA;AACA,KAnFA;;AAqFA,gBArFA,wBAqFA,KArFA,EAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,sBAFA;;AAIA;AACA,OANA,MAMA;AACA;AACA;AACA,KAnGA;;AAqGA,iBArGA,2BAqGA;AACA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA;AACA,OANA,MAMA;AACA;AACA,4BADA;AAEA,sBAFA;;AAIA;AACA,OANA,MAMA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA;AACA,OANA,MAMA;AACA;AACA,4BADA;AAEA,sBAFA;;AAIA;AACA,OANA,MAMA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA,KA1IA;;AA4IA,eA5IA,yBA4IA;AACA,oBADA,GACA,MADA;AAEA,sBAFA,GAEA,eAFA;AAGA,oBAHA,GAGA,oBAHA;AAIA,oBAJA,GAIA,kBAJA;AAKA,uBALA,GAKA,kBALA;AAMA;AACA,6DADA;AAEA;AACA,0DADA;AAEA,mCAFA;AAGA,8CAHA;AAIA,iDAJA;AAKA,qDALA;AAMA,sCANA;AAOA,kDAPA;AAQA,2DARA;AASA,6DATA;AAUA,2CAVA;AAWA,yCAXA;AAYA,iEAZA;AAaA,qEAbA;AAcA,6DAdA;AAeA,yCAfA;AAgBA,6CAhBA;AAiBA,mCAjBA;AAkBA,+CAlBA;AAmBA,mDAnBA;AAoBA;AACA,+DADA;AAEA,mCAFA;AAGA,6DAHA;AAIA,qEAJA;AAKA,2CALA;AAMA,yCANA;AAOA,uCAPA;AAQA,0DARA;AASA,qCATA;AAUA,sCAVA;AAWA,8CAXA;AAYA,+DAZA;AAaA,mEAbA;AAcA,kDAdA;AAeA,sCAfA;AAgBA,iEAhBA;AAiBA,yEAjBA,EAtBA;;AAyCA,sDAzCA;AA0CA,sBA1CA,CA0CA;AACA;AACA;AACA;AACA;AACA;AACA,qCADA;AAEA,oCAFA;AAGA;AACA;AACA,oCADA;AAEA;AACA,oCADA,GAFA;;AAKA,yBATA;;AAWA,qBAZA,MAYA;AACA;AACA,sCADA;AAEA,oCAFA;;AAIA;AACA,mBAhEA,EAgEA,KAhEA,CAgEA;AACA;AACA;AACA;AACA,mBApEA,CANA;AA2EA,KAvNA;;AAyNA,iBAzNA,yBAyNA,CAzNA,EAyNA;AACA;AACA,KA3NA;;AA6NA,mBA7NA,2BA6NA,CA7NA,EA6NA;AACA;AACA,KA/NA,EA9DA,E;;;;;;;;;;;;;AC9FA;AAAA;AAAA;AAAA;AAA+nC,CAAgB,ymCAAG,EAAC,C;;;;;;;;;;;ACAnpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/communityRegister/validation1.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/communityRegister/validation1.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./validation1.vue?vue&type=template&id=e9daf268&scoped=true&\"\nvar renderjs\nimport script from \"./validation1.vue?vue&type=script&lang=js&\"\nexport * from \"./validation1.vue?vue&type=script&lang=js&\"\nimport style0 from \"./validation1.vue?vue&type=style&index=0&id=e9daf268&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9daf268\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/communityRegister/validation1.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./validation1.vue?vue&type=template&id=e9daf268&scoped=true&\"","var components = {\n  uniUploadImage: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-upload-image/uni-upload-image\" */ \"@/components/uni-upload-image/uni-upload-image.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./validation1.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./validation1.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"add_container\">\r\n\t\t<view class=\"cu-bar bg-commonGray\">\r\n\t\t\t<view class=\"action\">\r\n\t\t\t\t<text class=\"action1\">基本信息</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action\" style=\"font-size:24rpx;\">\r\n\t\t\t\t所有信息仅供小区物业登记住户和绑定房产使用\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"detail-list\" v-if=\"fromID==1\">\r\n\t\t\t<view class=\"list-item solid-bottom\">\r\n\t\t\t\t<text class=\"title-text\">选择房屋</text>\r\n\t\t\t\t<text class=\"detail-text\">{{currentHouse}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cu-form-group solid-bottom\" v-if=\"fromID==0\">\r\n\t\t\t<view class=\"title\">居住类型</view>\r\n\t\t\t<picker @change=\"liveChange\" :value=\"index2\" :range=\"picker2\">\r\n\t\t\t\t<view class=\"picker\" :class=\"index2!=null?'color2':'color1'\">\r\n\t\t\t\t\t{{index2!=null?picker2[index2]:'请选择'}}\r\n\t\t\t\t</view>\r\n\t\t\t</picker>\r\n\t\t</view>\r\n\t\t<view class=\"cu-form-group solid-bottom\">\r\n\t\t\t<view class=\"title\">人口类型</view>\r\n\t\t\t<picker @change=\"registerChange\" :value=\"index1\" :range=\"picker1\">\r\n\t\t\t\t<view class=\"picker\" :class=\"index1!=null?'color2':'color1'\">\r\n\t\t\t\t\t{{index1!=null?picker1[index1]:'请选择'}}\r\n\t\t\t\t</view>\r\n\t\t\t</picker>\r\n\t\t</view>\r\n\t\t<view class=\"cu-form-group solid-bottom\">\r\n\t\t\t<view class=\"title\">与户主关系</view>\r\n\t\t\t<picker @change=\"relationChange\" :value=\"index3\" :range=\"picker3\">\r\n\t\t\t\t<view class=\"picker\" :class=\"index3!=null?'color2':'color1'\">\r\n\t\t\t\t\t{{index3!=null?picker3[index3]:'请选择'}}\r\n\t\t\t\t</view>\r\n\t\t\t</picker>\r\n\t\t</view>\r\n\t\t<view class=\"cu-form-group solid-bottom\">\r\n\t\t\t<view class=\"title\">姓名</view>\r\n\t\t\t<input :value=\"userName\" @input=\"userNameInput\" placeholder=\"请输入\" placeholder-class='placeholder' maxlength=\"15\"></input>\r\n\t\t</view>\r\n\t\t<view class=\"cu-form-group solid-bottom\">\r\n\t\t\t<view class=\"title\">证件类型</view>\r\n\t\t\t<picker @change=\"cardChange\" :value=\"index4\" :range=\"picker4\">\r\n\t\t\t\t<view class=\"picker\" :class=\"index4!=null?'color2':'color1'\">\r\n\t\t\t\t\t{{index4!=null?picker4[index4]:'请选择'}}\r\n\t\t\t\t</view>\r\n\t\t\t</picker>\r\n\t\t</view>\r\n\t\t<view class=\"cu-form-group solid-bottom\">\r\n\t\t\t<view class=\"title\">证件号</view>\r\n\t\t\t<input :value=\"idCardNum\" @input=\"idNumInput\" @blur=\"idNumBlur\" placeholder=\"请输入\" placeholder-class='placeholder'\r\n\t\t\t type=\"idcard\" maxlength=\"18\"></input>\r\n\t\t</view>\r\n\t\t<view class=\"detail-list\">\r\n\t\t\t<view class=\"list-item solid-bottom\">\r\n\t\t\t\t<text class=\"title-text\">出生日期</text>\r\n\t\t\t\t<text class=\"detail-text\">{{birthDate}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"list-item solid-bottom\">\r\n\t\t\t\t<text class=\"title-text\">性别</text>\r\n\t\t\t\t<text class=\"detail-text\">{{sex}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cu-form-group solid-bottom\">\r\n\t\t\t<view class=\"title\">手机号码</view>\r\n\t\t\t<input :value=\"phoneNum\" @input=\"phoneNumInput\" @blur=\"phoneNumBlur\" placeholder=\"请输入\" placeholder-class='placeholder'\r\n\t\t\t maxlength=\"11\" type=\"number\"></input>\r\n\t\t</view>\r\n\t\t<view class=\"line-view\"></view>\r\n\t\t<view class=\"cu-bar bg-white\">\r\n\t\t\t<view class=\"action\">\r\n\t\t\t\t<text class=\"action1\">人脸照片</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action\">\r\n\t\t\t\t{{imgList.length}}/1\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<uni-upload-image maxLength=\"1\" @getPictures=\"onGetPictures\" @deletePicture=\"onDeletePicture\" />\r\n\t\t<view class=\"tip_view\">\r\n\t\t\t<text class=\"tip_text\">注：请拍照或上传本人清晰头像，以确保刷脸开门的通过率</text>\r\n\t\t</view>\r\n\t\t<view class=\"btn-view\">\r\n\t\t\t<button class='submit-btn' :loading=\"isLoading\" @click=\"submitHandler\" :disabled=\"isDisable\">{{buttonText}}</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport UniUploadImage from \"@/components/uni-upload-image/uni-upload-image.vue\"\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tUniUploadImage\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tbuttonText: '提交',\r\n\t\t\t\tisDisable: false,\r\n\t\t\t\timgList: [],\r\n\t\t\t\tuserName: '',\r\n\t\t\t\tidCardNum: '',\r\n\t\t\t\tphoneNum: '',\r\n\t\t\t\tbirthDate: '',\r\n\t\t\t\tsex: '',\r\n\t\t\t\tindex1: 0,\r\n\t\t\t\tpicker1: [],\r\n\t\t\t\tregisterCodeArr: [],\r\n\t\t\t\tindex2: 0,\r\n\t\t\t\tpicker2: ['常住', '暂住', '出租'],\r\n\t\t\t\tindex3: null,\r\n\t\t\t\tpicker3: [],\r\n\t\t\t\trelationCodeArr: [],\r\n\t\t\t\tindex4: 0,\r\n\t\t\t\tpicker4: [],\r\n\t\t\t\tcradCodeArr: [],\r\n\t\t\t\tvillageName: '',\r\n\t\t\t\tvillageId: '',\r\n\t\t\t\tbuildingName: '',\r\n\t\t\t\tbuildingId: '',\r\n\t\t\t\troomName: '',\r\n\t\t\t\troomId: '',\r\n\t\t\t\tisLegalIdNum: true,\r\n\t\t\t\tillegalPhoneNum: false,\r\n\t\t\t\tfromID: 0, //0:社区登记第二个页面；1:新增住户页面\r\n\t\t\t\tcurrentHouse: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 生命周期函数--监听页面加载\r\n\t\t */\r\n\t\tonLoad: function(options) {\r\n\t\t\tif (options.fromID) {\r\n\t\t\t\tthis.fromID = options.fromID,\r\n\t\t\t\t\tthis.index2 = 0,\r\n\t\t\t\t\tthis.currentHouse = uni.getStorageSync('villageName') + uni.getStorageSync('data').buildingName + '栋' + uni.getStorageSync(\r\n\t\t\t\t\t\t'data').roomName + '室'\r\n\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\ttitle: '新增住户'\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.villageName = options.villageName\r\n\t\t\t\tthis.villageId = options.villageId\r\n\t\t\t\tthis.buildingName = options.buildingName\r\n\t\t\t\tthis.buildingId = options.buildingId\r\n\t\t\t\tthis.roomName = options.roomName\r\n\t\t\t\tthis.roomId = options.roomId\r\n\t\t\t}\r\n\t\t\tthis.getDictionaryListRequest(\"RKLX\")\r\n\t\t\tthis.getDictionaryListRequest(\"HZGX\")\r\n\t\t\tthis.getDictionaryListRequest(\"ZJLX\")\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getDictionaryListRequest(code) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\treturn await that.$http(that.$api.dictionaryListUrl + \"?code=\" + code, {\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: {},\r\n\t\t\t\t\ttoken: uni.getStorageSync('token')\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tvar nameArr = []\r\n\t\t\t\t\t\tvar codeArr = []\r\n\t\t\t\t\t\tfor (let i = 0; i < res.data.length; i++) {\r\n\t\t\t\t\t\t\tnameArr.push(res.data[i].zdz)\r\n\t\t\t\t\t\t\tcodeArr.push(res.data[i].zdx)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (code == 'RKLX') {\r\n\t\t\t\t\t\t\tthat.picker1 = nameArr\r\n\t\t\t\t\t\t\tthat.registerCodeArr = codeArr\r\n\t\t\t\t\t\t} else if (code == 'HZGX') {\r\n\t\t\t\t\t\t\tthat.picker3 = nameArr\r\n\t\t\t\t\t\t\tthat.relationCodeArr = codeArr\r\n\t\t\t\t\t\t} else if (code == 'ZJLX') {\r\n\t\t\t\t\t\t\tthat.picker4 = nameArr\r\n\t\t\t\t\t\t\tthat.cradCodeArr = codeArr\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {})\r\n\t\t\t},\r\n\r\n\t\t\tregisterChange(e) {\r\n\t\t\t\tthis.index1 = e.detail.value\r\n\t\t\t},\r\n\r\n\t\t\tliveChange(e) {\r\n\t\t\t\tthis.index2 = e.detail.value\r\n\t\t\t},\r\n\r\n\t\t\trelationChange(e) {\r\n\t\t\t\tthis.index3= e.detail.value\r\n\t\t\t},\r\n\r\n\t\t\tcardChange(e) {\r\n\t\t\t\tthis.index4 = e.detail.value\r\n\t\t\t},\r\n\r\n\t\t\tuserNameInput(event) {\r\n\t\t\t\tlet userName = event.detail.value || event.detail.text;\r\n\t\t\t\tif (!userName) {\r\n\t\t\t\t\tuserName = ''\r\n\t\t\t\t}\r\n\t\t\t\tthis.userName = userName.replace(/\\s+/g, '')\r\n\t\t\t},\r\n\r\n\t\t\tidNumInput(event) {\r\n\t\t\t\tlet idCardNum = event.detail.value || event.detail.text;\r\n\t\t\t\tif (!idCardNum) {\r\n\t\t\t\t\tidCardNum = ''\r\n\t\t\t\t}\r\n\t\t\t\tthis.idCardNum = idCardNum.replace(/\\s+/g, '')\r\n\t\t\t},\r\n\r\n\t\t\tidNumBlur(event) {\r\n\t\t\t\tlet idNum = event.detail.value || event.detail.text;\r\n\t\t\t\tvar idCardReg = /^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i;\r\n\t\t\t\tif (!idCardReg.test(idNum)) {\r\n\t\t\t\t\tthis.isLegalIdNum = false\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '身份证号码格式有误',\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.birthDate = idNum.substring(6, 10) + \"-\" + idNum.substring(10, 12) + \"-\" + idNum.substring(12, 14),\r\n\t\t\t\t\tthis.sex = parseInt(idNum.substr(16, 1)) % 2 == 1 ? '男' : '女',\r\n\t\t\t\t\tthis.isLegalIdNum = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tphoneNumInput(event) {\r\n\t\t\t\tlet phoneNum = event.detail.value || event.detail.text;\r\n\t\t\t\tif (!phoneNum) {\r\n\t\t\t\t\tphoneNum = ''\r\n\t\t\t\t}\r\n\t\t\t\tthis.phoneNum = phoneNum.replace(/\\s+/g, '')\r\n\t\t\t},\r\n\r\n\t\t\tphoneNumBlur(event) {\r\n\t\t\t\tlet phoneNum = event.detail.value || event.detail.text;\r\n\t\t\t\tif (!phoneNum) {\r\n\t\t\t\t\tphoneNum = ''\r\n\t\t\t\t}\r\n\t\t\t\tif (phoneNum.length != 11 || !(/^1(3|4|5|6|7|8|9)\\d{9}$/.test(phoneNum))) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入正确的手机号',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.illegalPhoneNum = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.illegalPhoneNum = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tsubmitHandler() {\r\n\t\t\t\tif (this.index1 == null || this.index2 == null || this.index3 == null || this.index4 == null || this.userName == '' || this.idCardNum == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请完善基本信息',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else if (!this.isLegalIdNum) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '身份证号码格式有误',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else if (this.phoneNum == '' || this.birthDate == '' || this.sex == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请完善基本信息',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else if (this.illegalPhoneNum) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入正确的手机号',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else if (this.imgList.length == 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请上传人脸照片',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isLoading = true\r\n\t\t\t\t\tthis.buttonText = '提交中...'\r\n\t\t\t\t\tthis.isDisable = true\r\n\t\t\t\t\tthis.onAuthEvent()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tasync onAuthEvent() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar imgUrl = that.imgList[0]\r\n\t\t\t\tvar str1 = imgUrl.split('?')[1]\r\n\t\t\t\tvar str2 = str1.split('&')[0]\r\n\t\t\t\tvar imgPath = str2.split('=')[1]\r\n\t\t\t\treturn await that.$http(that.fromID == 0 ? that.$api.roomAuthUrl2 : that.$api.addPersonRecordUrl, {\r\n\t\t\t\t\tmethod: that.fromID == 0 ? 'PUT' : 'POST',\r\n\t\t\t\t\tdata: that.fromID == 0 ? {\r\n\t\t\t\t\t\tuserId: uni.getStorageSync('userId'),\r\n\t\t\t\t\t\tuserType: '3',\r\n\t\t\t\t\t\tbirthDay: that.birthDate,\r\n\t\t\t\t\t\tbuildingId: that.buildingId,\r\n\t\t\t\t\t\tbuildingName: that.buildingName,\r\n\t\t\t\t\t\tfaceImg: imgPath,\r\n\t\t\t\t\t\tidCardNumber: that.idCardNum,\r\n\t\t\t\t\t\tidCardType: that.picker4[that.index4],\r\n\t\t\t\t\t\tliveTypeName: that.picker2[that.index2],\r\n\t\t\t\t\t\tmobile: that.phoneNum,\r\n\t\t\t\t\t\tname: that.userName,\r\n\t\t\t\t\t\tregisterTypeName: that.picker1[that.index1],\r\n\t\t\t\t\t\trelationCode: that.relationCodeArr[that.index3],\r\n\t\t\t\t\t\trelationName: that.picker3[that.index3],\r\n\t\t\t\t\t\troomId: that.roomId,\r\n\t\t\t\t\t\troomName: that.roomName,\r\n\t\t\t\t\t\tsex: that.sex,\r\n\t\t\t\t\t\tvillageId: that.villageId,\r\n\t\t\t\t\t\tvillageName: that.villageName\r\n\t\t\t\t\t} : {\r\n\t\t\t\t\t\troomId: uni.getStorageSync('data').roomId,\r\n\t\t\t\t\t\tliveType: '1',\r\n\t\t\t\t\t\trelationName: that.picker3[that.index3],\r\n\t\t\t\t\t\trelationCode: that.relationCodeArr[that.index3],\r\n\t\t\t\t\t\tmobile: that.phoneNum,\r\n\t\t\t\t\t\tname: that.userName,\r\n\t\t\t\t\t\tsexName: that.sex,\r\n\t\t\t\t\t\tsexCode: that.sex == '男' ? '1' : '2',\r\n\t\t\t\t\t\tnationName: \"汉\",\r\n\t\t\t\t\t\tnationCode: \"01\",\r\n\t\t\t\t\t\tbirthDay: that.birthDate,\r\n\t\t\t\t\t\tidCardTypeName: that.picker4[that.index4],\r\n\t\t\t\t\t\tidCardTypeCode: that.cradCodeArr[that.index4],\r\n\t\t\t\t\t\tidCardNumber: that.idCardNum,\r\n\t\t\t\t\t\tfaceImg: imgPath,\r\n\t\t\t\t\t\tregisterTypeName: that.picker1[that.index1],\r\n\t\t\t\t\t\tregisterTypeCode: that.registerCodeArr[that.index1]\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoken: uni.getStorageSync('token')\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthat.isLoading = false\r\n\t\t\t\t\tthat.buttonText = '提交'\r\n\t\t\t\t\tthat.isDisable = false\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '提交成功',\r\n\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tthat.fromID == 0 ? uni.navigateBack({\r\n\t\t\t\t\t\t\t\t\tdelta: 2,\r\n\t\t\t\t\t\t\t\t}) : uni.navigateBack({\r\n\t\t\t\t\t\t\t\t\tdelta: 1,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthat.isLoading = false\r\n\t\t\t\t\tthat.buttonText = '提交'\r\n\t\t\t\t\tthat.isDisable = false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonGetPictures(e) {\r\n\t\t\t\tthis.imgList = e.detail\r\n\t\t\t},\r\n\r\n\t\t\tonDeletePicture(e) {\r\n\t\t\t\tthis.imgList = e.detail\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import \"../../common/css/list-detail.css\";\r\n\r\n\t.add_container {\r\n\t\tbackground: #F6F8FA;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./validation1.vue?vue&type=style&index=0&id=e9daf268&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./validation1.vue?vue&type=style&index=0&id=e9daf268&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1609386074015\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}